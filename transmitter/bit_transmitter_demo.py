import pigpio
import time

# ====== 請在此直接填入要發送的 bits（例：'101100...864bits'）======
bit_string = "100110011001100110011001100110011001100110011001100110011001100101100101101010010110011010101010101010100110100101011010010101010101010101011001100110100110010101100101010110011010100110100110100101011001100110101010011010011001101001011001101010010101101010101001100101011010101001011010011010101001011001100101010101101001011001101010100110100101010101010101010101011001101001010110101001010101101001100110011010100101100110101001101010010110101001101001100110100110101001011001100110011001011010010110101010010110011001101010011001011010101010101001011010010110011001100110100110101010101010011010101001101010011010101001010101010101011010011010011010101001011010011001101001010110011001010101101001101010010101010110011010101001011001101010011001100110100101011001100101101010100101101001101010100101101001101001100101011010100101011001100110100110101001101010"  # 這裡換成你自己的 0/1 串
BIT_DURATION = 0.076   # 80 ms/bit
GPIO_PIN = 18         # LED接在GPIO18

# ===============================================================

pi = pigpio.pi()
if not pi.connected:
    print("pigpio daemon 未啟動！")
    exit(1)

pi.set_mode(GPIO_PIN, pigpio.OUTPUT)

print("將開始依序發送 bits...")
for idx, bit in enumerate(bit_string):
    if bit == '1':
        pi.write(GPIO_PIN, 1)
    else:
        pi.write(GPIO_PIN, 0)
    # print(f"第{idx+1}位 bit={bit} 已發送")
    time.sleep(BIT_DURATION)

# 結束時關燈
pi.write(GPIO_PIN, 0)
pi.stop()
print("發送完畢")